import{q as h,r as m,j as e,$ as j,Y as r,m as u}from"./app-DpfpjghG.js";import{s as o}from"./index-BctFJj0Y.js";function b({inmuebles:t,filters:n}){const{props:f}=h(),{auth:l}=h().props,c=l==null?void 0:l.user,p=!!c;console.log("Usuario actual:",c);const[i,a]=m.useState({precio_min:n.precio_min||"",precio_max:n.precio_max||"",tipo:n.tipo||""}),x=()=>{u.visit(o("pisos"),{method:"get",preserveState:!0,preserveScroll:!0,data:i})};return e.jsxs("div",{id:"Cuerpo",children:[e.jsx(j,{title:"Pisos en oferta"}),e.jsxs("nav",{children:[e.jsx("div",{children:e.jsx("strong",{children:"INMOBILIARIA CES"})}),e.jsxs("div",{children:[e.jsx(r,{href:"/",children:"Inicio"}),e.jsx(r,{href:"/pisos",children:"Inmuebles"}),e.jsx(r,{href:"/#contacto",children:"Contacto"}),e.jsx(r,{href:"/blog",children:"Blog"}),p?e.jsxs("div",{className:"desplegable",children:[e.jsx("button",{className:"desplegable-nombre",children:c.nombre}),e.jsxs("div",{className:"desplegable-menu",children:[e.jsx(r,{href:"/perfil",children:"Perfil"}),e.jsx(r,{href:o("logout"),method:"post",as:"button",children:"Cerrar sesión"})]})]}):e.jsx(r,{href:o("login"),children:"Log in"})]})]}),e.jsx("section",{className:"filtros-section",children:e.jsxs("div",{className:"filtros-form",children:[e.jsx("input",{type:"number",step:"25000",placeholder:"Precio mínimo",value:i.precio_min,onChange:s=>a({...i,precio_min:s.target.value})}),e.jsx("input",{type:"number",step:"25000",placeholder:"Precio máximo",value:i.precio_max,onChange:s=>a({...i,precio_max:s.target.value})}),e.jsxs("select",{value:i.tipo,onChange:s=>a({...i,tipo:s.target.value}),children:[e.jsx("option",{value:"",children:"Todos"}),e.jsx("option",{value:"venta",children:"Venta"}),e.jsx("option",{value:"alquiler",children:"Alquiler"})]}),e.jsx("button",{onClick:x,children:"Aplicar"})]})}),e.jsx("section",{className:"pisos-listado",children:t.length===0?e.jsx("p",{children:"No se encontraron inmuebles con los filtros aplicados."}):t.map(s=>{var d;return e.jsxs(r,{href:o("pisos.mostrar",s.direccion),className:"ficha-inmueble",children:[e.jsx("div",{className:"ficha-imagen",children:e.jsx("img",{src:(d=s.imagenes)==null?void 0:d[0],alt:"Inmueble"})}),e.jsxs("div",{className:"ficha-contenido",children:[e.jsx("h3",{children:s.titulo}),e.jsx("p",{children:s.descripcion}),e.jsxs("p",{children:[e.jsx("strong",{children:"Tipo:"})," ",s.tipo]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Precio:"})," ",parseInt(s.precio)," ",s.tipo==="alquiler"?"€/mes":"€"]})]})]},s.id)})}),e.jsx("footer",{className:"footer",children:e.jsxs("div",{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Inmobiliaria CES"})," ",new Date().getFullYear()," — Todos los derechos reservados."]}),e.jsx("p",{children:"Nos comprometemos a ofrecer un servicio cercano, profesional y honesto. Estamos aquí para ayudarte."}),e.jsxs("p",{children:["Nuestros telefonos de contacto son los siguientes:",e.jsx("br",{}),"+34669052244 (Celia) y/o +34683125643 (Sandra)"]}),e.jsxs("div",{className:"footer-links",children:[e.jsx(r,{href:"/privacidad",children:"Política de Privacidad"}),e.jsx(r,{href:"/#contacto",children:"Contacto"}),e.jsx(r,{href:"/blog",children:"Blog"})]})]})})]})}export{b as default};
